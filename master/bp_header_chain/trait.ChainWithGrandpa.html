<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Substrate-based chain that is using direct GRANDPA finality."><title>ChainWithGrandpa in bp_header_chain - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bp_header_chain" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0 (82e1608df 2023-12-21)" data-channel="1.75.0" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"><script async defer src="https://apisa.parity.io/latest.js"></script><noscript><img src="https://apisa.parity.io/latest.js" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../bp_header_chain/index.html">bp_header_chain</a><span class="version">0.7.0</span></h2></div><h2 class="location"><a href="#">ChainWithGrandpa</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-consts">Required Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.AVERAGE_HEADER_SIZE">AVERAGE_HEADER_SIZE</a></li><li><a href="#associatedconstant.MAX_AUTHORITIES_COUNT">MAX_AUTHORITIES_COUNT</a></li><li><a href="#associatedconstant.MAX_MANDATORY_HEADER_SIZE">MAX_MANDATORY_HEADER_SIZE</a></li><li><a href="#associatedconstant.REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY">REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY</a></li><li><a href="#associatedconstant.WITH_CHAIN_GRANDPA_PALLET_NAME">WITH_CHAIN_GRANDPA_PALLET_NAME</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In crate bp_header_chain</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">bp_header_chain</a>::<wbr><a class="trait" href="#">ChainWithGrandpa</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/bp_header_chain/lib.rs.html#266-310">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ChainWithGrandpa: Chain {
    const <a href="#associatedconstant.WITH_CHAIN_GRANDPA_PALLET_NAME" class="constant">WITH_CHAIN_GRANDPA_PALLET_NAME</a>: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.str.html">str</a>;
    const <a href="#associatedconstant.MAX_AUTHORITIES_COUNT" class="constant">MAX_AUTHORITIES_COUNT</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a>;
    const <a href="#associatedconstant.REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY" class="constant">REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a>;
    const <a href="#associatedconstant.MAX_MANDATORY_HEADER_SIZE" class="constant">MAX_MANDATORY_HEADER_SIZE</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a>;
    const <a href="#associatedconstant.AVERAGE_HEADER_SIZE" class="constant">AVERAGE_HEADER_SIZE</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a>;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Substrate-based chain that is using direct GRANDPA finality.</p>
<p>Keep in mind that parachains are relying on relay chain GRANDPA, so they should not implement
this trait.</p>
</div></details><h2 id="required-associated-consts" class="small-section-header">Required Associated Constants<a href="#required-associated-consts" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedconstant.WITH_CHAIN_GRANDPA_PALLET_NAME" class="method"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#272">source</a><h4 class="code-header">const <a href="#associatedconstant.WITH_CHAIN_GRANDPA_PALLET_NAME" class="constant">WITH_CHAIN_GRANDPA_PALLET_NAME</a>: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.str.html">str</a></h4></section></summary><div class="docblock"><p>Name of the bridge GRANDPA pallet (used in <code>construct_runtime</code> macro call) that is deployed
at some other chain to bridge with this <code>ChainWithGrandpa</code>.</p>
<p>We assume that all chains that are bridging with this <code>ChainWithGrandpa</code> are using
the same name.</p>
</div></details><details class="toggle" open><summary><section id="associatedconstant.MAX_AUTHORITIES_COUNT" class="method"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#278">source</a><h4 class="code-header">const <a href="#associatedconstant.MAX_AUTHORITIES_COUNT" class="constant">MAX_AUTHORITIES_COUNT</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a></h4></section></summary><div class="docblock"><p>Max number of GRANDPA authorities at the chain.</p>
<p>This is a strict constant. If bridged chain will have more authorities than that,
the GRANDPA bridge pallet may halt.</p>
</div></details><details class="toggle" open><summary><section id="associatedconstant.REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY" class="method"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#286">source</a><h4 class="code-header">const <a href="#associatedconstant.REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY" class="constant">REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a></h4></section></summary><div class="docblock"><p>Max reasonable number of headers in <code>votes_ancestries</code> vector of the GRANDPA justification.</p>
<p>This isn’t a strict limit. The relay may submit justifications with more headers in its
ancestry and the pallet will accept such justification. The limit is only used to compute
maximal refund amount and submitting justifications which exceed the limit, may be costly
to submitter.</p>
</div></details><details class="toggle" open><summary><section id="associatedconstant.MAX_MANDATORY_HEADER_SIZE" class="method"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#294">source</a><h4 class="code-header">const <a href="#associatedconstant.MAX_MANDATORY_HEADER_SIZE" class="constant">MAX_MANDATORY_HEADER_SIZE</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a></h4></section></summary><div class="docblock"><p>Maximal size of the mandatory chain header. Mandatory header is the header that enacts new
GRANDPA authorities set (so it has large digest inside).</p>
<p>This isn’t a strict limit. The relay may submit larger headers and the pallet will accept
the call. The limit is only used to compute maximal refund amount and doing calls which
exceed the limit, may be costly to submitter.</p>
</div></details><details class="toggle" open><summary><section id="associatedconstant.AVERAGE_HEADER_SIZE" class="method"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#309">source</a><h4 class="code-header">const <a href="#associatedconstant.AVERAGE_HEADER_SIZE" class="constant">AVERAGE_HEADER_SIZE</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a></h4></section></summary><div class="docblock"><p>Average size of the chain header. We don’t expect to see there headers that change GRANDPA
authorities set (GRANDPA will probably be able to finalize at least one additional header
per session on non test chains), so this is average size of headers that aren’t changing the
set.</p>
<p>This isn’t a strict limit. The relay may submit justifications with larger headers and the
pallet will accept the call. However, if the total size of all <code>submit_finality_proof</code>
arguments exceeds the maximal size, computed using this average size, relayer will only get
partial refund.</p>
<p>We expect some headers on production chains that are above this size. But they are rare and
if rellayer cares about its profitability, we expect it’ll select other headers for
submission.</p>
</div></details></div><h2 id="object-safety" class="small-section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.75.0/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-ChainWithGrandpa-for-T" class="impl"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#312-325">source</a><a href="#impl-ChainWithGrandpa-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="trait.ChainWithGrandpa.html" title="trait bp_header_chain::ChainWithGrandpa">ChainWithGrandpa</a> for T<span class="where fmt-newline">where
    T: Chain + UnderlyingChainProvider,
    T::Chain: <a class="trait" href="trait.ChainWithGrandpa.html" title="trait bp_header_chain::ChainWithGrandpa">ChainWithGrandpa</a>,</span></h3></section></summary><div class="impl-items"><section id="associatedconstant.WITH_CHAIN_GRANDPA_PALLET_NAME-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#317-318">source</a><a href="#associatedconstant.WITH_CHAIN_GRANDPA_PALLET_NAME-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.WITH_CHAIN_GRANDPA_PALLET_NAME" class="constant">WITH_CHAIN_GRANDPA_PALLET_NAME</a>: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.str.html">str</a> = &lt;T::Chain as ChainWithGrandpa&gt;::WITH_CHAIN_GRANDPA_PALLET_NAME</h4></section><section id="associatedconstant.MAX_AUTHORITIES_COUNT-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#319">source</a><a href="#associatedconstant.MAX_AUTHORITIES_COUNT-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.MAX_AUTHORITIES_COUNT" class="constant">MAX_AUTHORITIES_COUNT</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a> = &lt;T::Chain as ChainWithGrandpa&gt;::MAX_AUTHORITIES_COUNT</h4></section><section id="associatedconstant.REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#320-321">source</a><a href="#associatedconstant.REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY" class="constant">REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a> = &lt;T::Chain as ChainWithGrandpa&gt;::REASONABLE_HEADERS_IN_JUSTIFICATON_ANCESTRY</h4></section><section id="associatedconstant.MAX_MANDATORY_HEADER_SIZE-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#322-323">source</a><a href="#associatedconstant.MAX_MANDATORY_HEADER_SIZE-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.MAX_MANDATORY_HEADER_SIZE" class="constant">MAX_MANDATORY_HEADER_SIZE</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a> = &lt;T::Chain as ChainWithGrandpa&gt;::MAX_MANDATORY_HEADER_SIZE</h4></section><section id="associatedconstant.AVERAGE_HEADER_SIZE-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/bp_header_chain/lib.rs.html#324">source</a><a href="#associatedconstant.AVERAGE_HEADER_SIZE-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.AVERAGE_HEADER_SIZE" class="constant">AVERAGE_HEADER_SIZE</a>: <a class="primitive" href="https://doc.rust-lang.org/1.75.0/std/primitive.u32.html">u32</a> = &lt;T::Chain as ChainWithGrandpa&gt;::AVERAGE_HEADER_SIZE</h4></section></div></details></div><script src="../trait.impl/bp_header_chain/trait.ChainWithGrandpa.js" async></script></section></div></main></body></html>